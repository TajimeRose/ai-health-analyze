{% extends "base.html" %}

{% block title %}สมัครสมาชิก | AI Health Analyze{% endblock %}

{% block content %}
<div class="flex min-h-[70vh] items-center justify-center py-12 px-4">
  <div class="w-full max-w-2xl overflow-hidden rounded-3xl border border-emerald-100 bg-white/95 shadow-2xl">
    <div class="grid gap-0 md:grid-cols-[1.1fr,0.9fr]">
      <div class="px-8 py-6 md:py-10">
        <h2 class="text-3xl font-semibold text-gray-800">สร้างบัญชีผู้ใช้ใหม่</h2>
        <p class="mt-2 text-sm text-gray-500">วิเคราะห์สุขภาพและติดตามผลได้ง่ายขึ้นด้วยบัญชีเดียว</p>

        <form id="signupForm" class="mt-8 space-y-6">
          <div>
            <label for="email" class="mb-2 block text-sm font-semibold text-gray-700">อีเมล</label>
            <div class="relative">
              <span class="pointer-events-none absolute inset-y-0 left-3 flex items-center text-emerald-500">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" d="M4 4h16v16H4z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" d="M4 8l8 5 8-5" />
                </svg>
              </span>
              <input id="email" name="email" type="email" required placeholder="กรอกอีเมลที่ใช้งานจริง"
                class="w-full rounded-2xl border border-emerald-100 bg-white px-11 py-3 text-gray-800 shadow-inner shadow-emerald-50 transition focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-200" />
            </div>
          </div>

          <div class="grid gap-6 md:grid-cols-2">
            <div>
              <label for="password" class="mb-2 block text-sm font-semibold text-gray-700">รหัสผ่าน</label>
              <div class="relative">
                <span class="pointer-events-none absolute inset-y-0 left-3 flex items-center text-emerald-500">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                      d="M12 11c-1.654 0-3 1.346-3 3v2h6v-2c0-1.654-1.346-3-3-3zm6-2V7c0-3.309-2.691-6-6-6S6 3.691 6 7v2H4v14h16V9h-2zm-8-2c0-1.654 1.346-3 3-3s3 1.346 3 3v2H10V7z" />
                  </svg>
                </span>
                <input id="password" name="password" type="password" required placeholder="สร้างรหัสผ่าน"
                  class="w-full rounded-2xl border border-emerald-100 bg-white px-11 py-3 text-gray-800 shadow-inner shadow-emerald-50 transition focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-200" />
              </div>
            </div>

            <div>
              <label for="confirmPassword" class="mb-2 block text-sm font-semibold text-gray-700">ยืนยันรหัสผ่าน</label>
              <div class="relative">
                <span class="pointer-events-none absolute inset-y-0 left-3 flex items-center text-emerald-500">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" d="M9 12l2 2 4-4" />
                    <circle cx="12" cy="12" r="9" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                      fill="none" />
                  </svg>
                </span>
                <input id="confirmPassword" name="confirmPassword" type="password" required
                  placeholder="พิมพ์รหัสผ่านอีกครั้ง"
                  class="w-full rounded-2xl border border-emerald-100 bg-white px-11 py-3 text-gray-800 shadow-inner shadow-emerald-50 transition focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-200" />
              </div>
            </div>
          </div>

          <div class="rounded-2xl bg-emerald-50/70 p-4 text-xs text-emerald-700">
            <p class="font-semibold">ข้อแนะนำด้านความปลอดภัย</p>
            <ul class="mt-2 space-y-1">
              <li class="flex items-start gap-2">
                <span class="mt-1 h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                ใช้ตัวอักษรพิมพ์ใหญ่ ผสมตัวเลขหรือสัญลักษณ์
              </li>
              <li class="flex items-start gap-2">
                <span class="mt-1 h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                หลีกเลี่ยงการใช้ข้อมูลส่วนตัวง่าย ๆ เช่น วันเกิด
              </li>
              <li class="flex items-start gap-2">
                <span class="mt-1 h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                เปลี่ยนรหัสผ่านเป็นประจำเพื่อความปลอดภัยสูงสุด
              </li>
            </ul>
          </div>

          <button type="submit"
            class="flex w-full items-center justify-center gap-2 rounded-2xl bg-emerald-500 py-3 text-base font-semibold text-white shadow-lg shadow-emerald-200 transition hover:bg-emerald-600 hover:shadow-xl">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" d="M12 5v14m7-7H5" />
            </svg>
            สมัครสมาชิก
          </button>
        </form>

        <p class="mt-8 text-center text-sm text-gray-600">
          มีบัญชีแล้ว?
          <a href="{{ url_for('login') }}"
            class="font-semibold text-emerald-600 transition hover:text-emerald-700">เข้าสู่ระบบ</a>
        </p>
      </div>

      <div
        class="hidden flex-col justify-between bg-gradient-to-br from-emerald-500 via-teal-500 to-sky-500 px-8 py-10 text-white md:flex">
        <div>
          <h3 class="text-2xl font-semibold">ดูแลสุขภาพแบบบูรณาการ</h3>
          <p class="mt-4 text-sm text-emerald-50/90">
            ระบบของเราประมวลผลข้อมูลจากหลายแหล่ง เพื่อให้คุณเห็นภาพสุขภาพแบบองค์รวมพร้อมภาพประกอบและคำแนะนำที่เข้าใจง่าย
          </p>
        </div>
        <ul class="space-y-4 text-sm">
          <li class="flex items-start gap-3">
            <span class="mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full bg-white/20">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" d="M9 12l2 2 4-4" />
              </svg>
            </span>
            Dashboard สุขภาพพร้อมกราฟสวยงาม ปรับตามข้อมูลที่อัปโหลด
          </li>
          <li class="flex items-start gap-3">
            <span class="mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full bg-white/20">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" d="M13 16h-1v-4h-1m1-4h.01" />
              </svg>
            </span>
            คำแนะนำอัตโนมัติเมื่อค่าสุขภาพเกินเกณฑ์ที่กำหนด
          </li>
          <li class="flex items-start gap-3">
            <span class="mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full bg-white/20">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                  d="M3 7l9 6 9-6-9-6-9 6zm0 6l9 6 9-6" />
              </svg>
            </span>
            รองรับการอัปโหลดผลตรวจจากหลายระบบเพื่อให้เห็นภาพรวมชัดเจน
          </li>
        </ul>
        <div class="rounded-2xl bg-white/15 px-4 py-3 text-xs text-emerald-50">
          <p class="font-semibold">พร้อมแล้วหรือยัง?</p>
          <p class="mt-1">เริ่มต้นด้วยการสมัคร แล้วให้ AI ช่วยดูแลสุขภาพคุณแบบรอบด้าน</p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.getElementById('signupForm').addEventListener('submit', function (e) {
    e.preventDefault();
    const email = document.getElementById('email').value.trim();
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirmPassword').value;

    if (!email || !password || !confirmPassword) {
      alert('กรุณากรอกข้อมูลให้ครบถ้วน');
      return;
    }

    if (password !== confirmPassword) {
      alert('รหัสผ่านไม่ตรงกัน');
      return;
    }

    alert('สมัครสมาชิกสำเร็จ (ตัวอย่าง)');
    window.location.href = "{{ url_for('login') }}";
  });
</script>
{% endblock %}